getwd()
install.packages("devtools")
install.packages("devtools")
install.packages("devtools")
install.packages("devtools")
install.packages("devtools")
library("devtools")
library(cli)
library("devtools")
library(devtools)
use_vignette("format-nDSP")
install.packages("lintr")
use_package("dplyr",type = "Imports")
package?dplyr
?devtools::package_deps
?devtools
library(devtools)
install.packages("devtools")
install.packages("devtools")
install.packages("devtools")
install.packages("devtools")
install.packages("devtools")
install.packages("devtools")
?devtools::package_deps
library(devtools)
?devtools::package_deps
?devtools
?remotes::package_deps
install.packages(c("devtools", "roxygen2", "testthat", "knitr"))
library(devtools)
has_devel()
writeLines('PATH="${RTOOLS40_HOME}\\usr\\bin;${PATH}"', con = "~/.Renviron")
Sys.which("make")
writeLines('PATH="${RTOOLS40_HOME}\\usr\\bin;${PATH}"', con = "~/.Renviron")
Sys.which("make")
install.packages("jsonlite", type = "source")
install.packages("jsonlite", type = "source")
install.packages("tidyverse")
library(devtools)
has_devel()
has_devel()
isTRUE(has_devel())
proj_sitrep()
install.packages("styler")
library(dplyr)
R1541T_RAW <- read_delim("C:/Users/acharyar2/Box/Internal_Project_Data/20200124_Spacial_Transcriptomics_Proj/data/test/testdata/1541T_RAW.txt",
"\t", escape_double = FALSE, trim_ws = TRUE)
library(dplyr)
library(readr)
R1541T_RAW <- read_delim("C:/Users/acharyar2/Box/Internal_Project_Data/20200124_Spacial_Transcriptomics_Proj/data/test/testdata/1541T_RAW.txt",
"\t", escape_double = FALSE, trim_ws = TRUE)
#Names in column `Segment displayed name`
#Import with top row as names
#in sdn row cut up to the name "#Factor"
R1541T_RAW$`Segment displayed name`
R1541T_RAW$`Segment displayed name` == "#Factor"
R1541T_RAW$`Segment displayed name` == "#Factor"
R1541T_RAW$`Segment displayed name` == "#Factor" %>% which
R1541T_RAW$`Segment displayed name` == "#Factor" %>% which()
which(R1541T_RAW$`Segment displayed name` == "#Factor")
select(1:which(R1541T_RAW$`Segment displayed name` == "#Factor"))
R1541T_RAW %>% select(1:which(R1541T_RAW$`Segment displayed name` == "#Factor"))
R1541T_RAW %>% select(1:which(R1541T_RAW$`Segment displayed name` == "#Factor")) %>% View()
R1541T_RAW %>% filter(1:which(R1541T_RAW$`Segment displayed name` == "#Factor")) %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Factor")) %>% View()
library(devtools)
library(roxygen2)
getwd
getwd()
document()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Factor")) %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Factor"-1)) %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Factor")-1) %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Factor")-1) %>% `rownames<-`(.[,1]) %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Factor")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Factor")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% dim(.) %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Factor")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Factor")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% t() %>%View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Factor")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% t() %>% mutate(ID=gsub(" ", "",paste(Scan_ID,ROI_ID,`Segment tags`,sep = "|")) ) %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Factor")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% t() %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Factor")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% t() %>% mutate(ID=gsub(" ", "",paste(`Scan name`,'ROI (label)',`Segment tags`,sep = "|")) ) %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Factor")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% t() %>% as.data.frame() %>% mutate(ID=gsub(" ", "",paste(`Scan name`,'ROI (label)',`Segment tags`,sep = "|")) ) %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Factor")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% t() %>% as.data.frame() %>% mutate(ID=gsub(" ", "",paste(`Scan name`,`ROI (label)`,`Segment tags`,sep = "|")) ) %>% View()
R1541T_RAW %>% slice(-1:which(R1541T_RAW$`Segment displayed name` == "#Factor")-1)
R1541T_RAW %>% .[-c(1:which(R1541T_RAW$`Segment displayed name` == "#Factor")-1),]
R1541T_RAW %>% .[-c(1:which(R1541T_RAW$`Segment displayed name` == "#Factor")-1),] %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% t() %>% as.data.frame() %>% mutate(ID=gsub(" ", "",paste(`Scan name`,`ROI (label)`,`Segment tags`,sep = "|")) )
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% t() %>% as.data.frame() %>% mutate(ID=gsub(" ", "",paste(`Scan name`,`ROI (label)`,`Segment tags`,sep = "|")) ) %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% t() %>% as.data.frame() %>% mutate(ID=gsub(" ", "",paste(Scan_ID,ROI_ID,`Segment tags`,sep = "|")) ) %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% t() %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% t() %>% tibble::rownames_to_column(var = "Original_ID")
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% as.data.frame() %>% t()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% as.data.frame() %>% t() %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% as.data.frame() %>% t() %>% %>% mutate(ID=gsub(" ", "",paste(Scan_ID,ROI_ID,`Segment tags`,sep = "|")) ) %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% as.data.frame() %>% t() %>% mutate(ID=gsub(" ", "",paste(Scan_ID,ROI_ID,`Segment tags`,sep = "|")) ) %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% as.data.frame() %>% t() as.data.frame(())%>% mutate(ID=gsub(" ", "",paste(Scan_ID,ROI_ID,`Segment tags`,sep = "|")) ) %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% t() %>% as.data.frame() %>% mutate(ID=gsub(" ", "",paste(Scan_ID,ROI_ID,`Segment tags`,sep = "|")) ) %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% as.data.frame() %>% t() %>% as.data.frame() %>% mutate(ID=gsub(" ", "",paste(Scan_ID,ROI_ID,`Segment tags`,sep = "|")) ) %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% as.data.frame() %>% t() %>% mutate(ID=gsub(" ", "",paste(Scan_ID,ROI_ID,`Segment tags`,sep = "|")) ) %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% as.data.frame() %>% t() %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% as.data.frame() %>% t() %>% tibble::rownames_to_column(var="Original_ID") %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% as.data.frame(stringsAsFactors = FALSE) %>% t()  %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1)
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% t() %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% as.data.frame(stringsAsFactors = FALSE) %>% t()  %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% as.data.frame(stringsAsFactors = FALSE) %>% t()  %>% as.data.frame(drop=FALSE)
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% as.data.frame(stringsAsFactors = FALSE) %>% t()  %>% as.data.frame(drop=FALSE) %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% as.data.frame(stringsAsFactors = FALSE) %>% t()  %>% as.data.frame(drop=FALSE) %>% mutate(ID=gsub(" ", "",paste(`Scan name`,`ROI (label)`,`Segment tags`,sep = "|")) ) %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% as.data.frame(stringsAsFactors = FALSE) %>% t()  %>% as.data.frame(drop=FALSE) %>% View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% as.data.frame(stringsAsFactors = FALSE) %>% t()  %>% as.data.frame(drop=FALSE) %>% mutate(Original_ID = rownames(.)) %>%View()
R1541T_RAW %>% slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% select(4:dim(.)[2]) %>% as.data.frame(stringsAsFactors = FALSE) %>% t()  %>% as.data.frame(drop=FALSE) %>% mutate(Original_ID = rownames(.)) %>%mutate(ID=gsub(" ", "",paste(`Scan name`,`ROI (label)`,`Segment tags`,sep = "|")) ) %>% View()
R1541T_RAW %>% dplyr::slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% dplyr::select(4:dim(.)[2]) %>% as.data.frame(stringsAsFactors = FALSE) %>% t()  %>% as.data.frame(drop=FALSE) %>% dplyr::mutate(Original_ID = rownames(.)) %>% dplyr::mutate(ID=gsub(" ", "",paste(`Scan name`,`ROI (label)`,`Segment tags`,sep = "|")) )
R1541T_RAW %>% dplyr::slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% dplyr::select(4:dim(.)[2]) %>% as.data.frame(stringsAsFactors = FALSE) %>% t()  %>% as.data.frame(drop=FALSE) %>% dplyr::mutate(Original_ID = rownames(.)) %>% dplyr::mutate(ID=gsub(" ", "",paste(`Scan name`,`ROI (label)`,`Segment tags`,sep = "|")) ) %>% View()
R1541T_RAW %>% dplyr::slice(-(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1))
R1541T_RAW %>% dplyr::slice(-(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1)) %>% View()
R1541T_RAW %>% dplyr::slice(-(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1)) %>% select(-(1:4))
R1541T_RAW %>% dplyr::slice(-(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1)) %>% select((1:4))
R1541T_RAW %>% dplyr::slice(-(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1)) %>% select((1:4)) %>% `colnames<-`(.[1,]) %>% View()
R1541T_RAW %>% dplyr::slice(-(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1)) %>% select((1:4)) %>% `colnames<-`(.[1,]) %>% slice(-1)
R1541T_RAW %>% dplyr::slice(-(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1)) %>% select((1:4)) %>% `colnames<-`(.[1,]) %>% slice(-1) %>% View()
R1541T_RAW %>% dplyr::slice(-(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1)) %>% select((1:4)) %>% `colnames<-`(.[1,]) %>% slice(-1) %>% `rownames<-`(.[,"ProbeName (display name)"])
R1541T_RAW %>% dplyr::slice(-(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1)) %>% select((1:4)) %>% `colnames<-`(.[1,]) %>% slice(-1) %>% str()
R1541T_RAW %>% dplyr::slice(-(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group"))) %>% select(-(1:4)) %>% View()
anno <- R1541T_RAW %>% dplyr::slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% dplyr::select(4:dim(.)[2]) %>% as.data.frame(stringsAsFactors = FALSE) %>% t()  %>% as.data.frame(drop=FALSE) %>% dplyr::mutate(Original_ID = rownames(.)) %>% dplyr::mutate(ID=gsub(" ", "",paste(`Scan name`,`ROI (label)`,`Segment tags`,sep = "|")) )
R1541T_RAW %>% dplyr::slice(-(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group"))) %>% select(-(1:4)) %>% `colnames<-`(anno$ID)
R1541T_RAW %>% dplyr::slice(-(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group"))) %>% select(-(1:4))
R1541T_RAW %>% dplyr::slice(-(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group"))) %>% select(-(1:4)) %>% View()
R1541T_RAW %>% dplyr::slice(-(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group"))) %>% select(-(1:4)) %>% `colnames<-`(anno$ID)
R1541T_RAW %>% dplyr::slice(-(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group"))) %>% select(-(1:4)) %>% `colnames<-`(anno$ID) %>% data.matrix
R1541T_RAW %>% dplyr::slice(-(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group"))) %>% select(-(1:4)) %>% `colnames<-`(anno$ID) %>% apply(2,to.numeric)
R1541T_RAW %>% dplyr::slice(-(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group"))) %>% select(-(1:4)) %>% `colnames<-`(anno$ID) %>% apply(2,to.numeric) %>% data.matrix
probes <- R1541T_RAW %>%
dplyr::slice(-(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1)) %>%
dplyr::select((1:4)) %>%
`colnames<-`(.[1,]) %>%
dplyr::slice(-1)
R1541T_RAW %>% dplyr::slice(-(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group"))) %>% select(-(1:4)) %>% `colnames<-`(anno$ID) %>% apply(2,to.numeric) %>% data.matrix() %>% `rownames<-`(probes$`ProbeName (display name)`)
lubridate::period()
lubridate::period() %>% View()
View(lubridate::period())
BiocManager::install("SummarizedExperiment")
library(BiocManager)
if (!requireNamespace("BiocManager", quietly = TRUE))
install.packages("BiocManager")
BiocManager::install("SummarizedExperiment")
ls
source('~/Projects/RnDSPA/R/import_data.R')
?dplyr::`%>%`
install.packages("qpdf")
library(dplyr)
library(readr)
anno.data <- R1541T_RAW %>%
dplyr::slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>%
tibble::column_to_rownames(var="Segment displayed name") %>%
dplyr::select(4:dim(.data)[2]) %>% as.data.frame(stringsAsFactors = FALSE) %>%
t()  %>% as.data.frame(drop=FALSE) %>%
dplyr::mutate(Original_ID = rownames(.)) %>%
dplyr::mutate(ID=gsub(" ", "",paste(.data$`Scan name`,.data$`ROI (label)`,.data$`Segment tags`,sep = "|")) )
R1541T_RAW <- read_delim("C:/Users/acharyar2/Box/Internal_Project_Data/20200124_Spacial_Transcriptomics_Proj/data/test/testdata/1541T_RAW.txt",
"\t", escape_double = FALSE, trim_ws = TRUE)
anno.data <- R1541T_RAW %>%
dplyr::slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>%
tibble::column_to_rownames(var="Segment displayed name") %>%
dplyr::select(4:dim(.data)[2]) %>% as.data.frame(stringsAsFactors = FALSE) %>%
t()  %>% as.data.frame(drop=FALSE) %>%
dplyr::mutate(Original_ID = rownames(.)) %>%
dplyr::mutate(ID=gsub(" ", "",paste(.data$`Scan name`,.data$`ROI (label)`,.data$`Segment tags`,sep = "|")) )
R1541T_RAW
R1541T_RAW %>% dplyr::slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1)
R1541T_RAW %>% dplyr::slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name")
R1541T_RAW %>% dplyr::slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% dplyr::select(4:dim(.data)[2])
R1541T_RAW %>% dplyr::slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% dplyr::select(4:dim(.)[2])
test_anno <- function(df){
anno <- df %>%
dplyr::slice(1:which(df$`Segment displayed name` == "#Probe Group")-1) %>%
tibble::column_to_rownames(var="Segment displayed name") %>%
dplyr::select(4:dim(.)[2]) %>%
as.data.frame(stringsAsFactors = FALSE) %>%
t()  %>%
as.data.frame(drop=FALSE) %>%
dplyr::mutate(Original_ID = rownames(.)) %>%
dplyr::mutate(ID=gsub(" ", "",paste(`Scan name`,`ROI (label)`,`Segment tags`,sep = "|")) )
return(anno)
}
test_anno(R1541T_RAW)
library(qpdf)
library(nDSPA)
import_DSP(Data = "~/../../Box/Internal_Project_Data/20200124_Spacial_Transcriptomics_Proj/data/test/testdata/1541T_RAW.txt")
rlang::last_error()
readr::read_tsv(file = "~/../../Box/Internal_Project_Data/20200124_Spacial_Transcriptomics_Proj/data/test/testdata/1541T_RAW.txt", col_names = TRUE) %>% dplyr::slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% dplyr::select(4:dim(.)[2]) %>% as.data.frame(stringsAsFactors = FALSE) %>% t()  %>% as.data.frame(drop=FALSE) %>% dplyr::mutate(Original_ID = rownames(.)) %>% dplyr::mutate(ID=gsub(" ", "",paste(`Scan name`,`ROI (label)`,`Segment tags`,sep = "|")) )
readr::read_tsv(file = "~/../../Box/Internal_Project_Data/20200124_Spacial_Transcriptomics_Proj/data/test/testdata/1541T_RAW.txt", col_names = TRUE) %>% dplyr::slice(1:which(R1541T_RAW$`Segment displayed name` == "#Probe Group")-1) %>% tibble::column_to_rownames(var="Segment displayed name") %>% dplyr::select(4:dim(.)[2]) %>% as.data.frame(stringsAsFactors = FALSE) %>% t()  %>% as.data.frame(drop=FALSE) %>% dplyr::mutate(Original_ID = rownames(.)) %>% dplyr::mutate(ID=gsub(" ", "",paste(`Scan name`,`ROI (label)`,`Segment tags`,sep = "|")) ) %>% View()
nDSPA::import_DSP("~/../../Box/Internal_Project_Data/20200124_Spacial_Transcriptomics_Proj/data/test/testdata/1541T_RAW.txt",type = "TSV")
nDSPA::import_DSP("~/../../Box/Internal_Project_Data/20200124_Spacial_Transcriptomics_Proj/data/test/testdata/1541T_RAW.txt",type = "TSV")
